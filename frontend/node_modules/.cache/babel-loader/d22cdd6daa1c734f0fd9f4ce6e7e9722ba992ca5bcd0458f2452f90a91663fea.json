{"ast":null,"code":"var _jsxFileName = \"H:\\\\Asky\\\\frontend\\\\src\\\\components\\\\LatexEditor.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef } from \"react\";\nimport { BlockMath } from \"react-katex\";\nimport \"katex/dist/katex.min.css\";\nimport Toolbar from \"./Toolbar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LatexEditor({\n  value,\n  setValue\n}) {\n  _s();\n  const textareaRef = useRef();\n\n  // Insert LaTeX at cursor\n  const handleInsert = latex => {\n    const textarea = textareaRef.current;\n    const start = textarea.selectionStart;\n    const end = textarea.selectionEnd;\n    const newValue = value.substring(0, start) + latex + value.substring(end);\n    setValue(newValue);\n    setTimeout(() => {\n      textarea.focus();\n      textarea.selectionStart = textarea.selectionEnd = start + latex.length;\n    }, 0);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative w-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-0 left-1/3 w-96 h-48 bg-blue-700 opacity-10 rounded-full filter blur-2xl animate-pulse -z-10\",\n      style: {\n        animationDuration: '8s'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Toolbar, {\n      onInsert: handleInsert\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row gap-6 mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        ref: textareaRef,\n        className: \"border border-gray-700 bg-gray-900 text-gray-100 p-4 w-full md:w-1/2 h-64 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-500 resize-none shadow-inner text-lg\",\n        value: value,\n        onChange: e => setValue(e.target.value),\n        placeholder: \"Type LaTeX here...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border border-gray-700 bg-gray-800 text-white p-4 w-full md:w-1/2 h-64 rounded-lg overflow-auto shadow-inner flex items-center text-lg\",\n        children: /*#__PURE__*/_jsxDEV(BlockMath, {\n          math: value,\n          errorColor: \"#cc0000\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n}\n_s(LatexEditor, \"gJtT2aPnbUb4WH8ANBrFCKASbhs=\");\n_c = LatexEditor;\nvar _c;\n$RefreshReg$(_c, \"LatexEditor\");","map":{"version":3,"names":["React","useRef","BlockMath","Toolbar","jsxDEV","_jsxDEV","LatexEditor","value","setValue","_s","textareaRef","handleInsert","latex","textarea","current","start","selectionStart","end","selectionEnd","newValue","substring","setTimeout","focus","length","className","children","style","animationDuration","fileName","_jsxFileName","lineNumber","columnNumber","onInsert","ref","onChange","e","target","placeholder","math","errorColor","_c","$RefreshReg$"],"sources":["H:/Asky/frontend/src/components/LatexEditor.jsx"],"sourcesContent":["import React, { useRef } from \"react\";\r\nimport { BlockMath } from \"react-katex\";\r\nimport \"katex/dist/katex.min.css\";\r\nimport Toolbar from \"./Toolbar\";\r\n\r\nexport default function LatexEditor({ value, setValue }) {\r\n  const textareaRef = useRef();\r\n\r\n  // Insert LaTeX at cursor\r\n  const handleInsert = latex => {\r\n    const textarea = textareaRef.current;\r\n    const start = textarea.selectionStart;\r\n    const end = textarea.selectionEnd;\r\n    const newValue =\r\n      value.substring(0, start) + latex + value.substring(end);\r\n    setValue(newValue);\r\n    setTimeout(() => {\r\n      textarea.focus();\r\n      textarea.selectionStart = textarea.selectionEnd = start + latex.length;\r\n    }, 0);\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative w-full\">\r\n      {/* Blurred animated background */}\r\n      <div className=\"absolute top-0 left-1/3 w-96 h-48 bg-blue-700 opacity-10 rounded-full filter blur-2xl animate-pulse -z-10\" style={{animationDuration: '8s'}}></div>\r\n      <Toolbar onInsert={handleInsert} />\r\n      <div className=\"flex flex-col md:flex-row gap-6 mt-4\">\r\n        <textarea\r\n          ref={textareaRef}\r\n          className=\"border border-gray-700 bg-gray-900 text-gray-100 p-4 w-full md:w-1/2 h-64 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-500 resize-none shadow-inner text-lg\"\r\n          value={value}\r\n          onChange={e => setValue(e.target.value)}\r\n          placeholder=\"Type LaTeX here...\"\r\n        />\r\n        <div className=\"border border-gray-700 bg-gray-800 text-white p-4 w-full md:w-1/2 h-64 rounded-lg overflow-auto shadow-inner flex items-center text-lg\">\r\n          <BlockMath math={value} errorColor=\"#cc0000\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,QAAQ,OAAO;AACrC,SAASC,SAAS,QAAQ,aAAa;AACvC,OAAO,0BAA0B;AACjC,OAAOC,OAAO,MAAM,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhC,eAAe,SAASC,WAAWA,CAAC;EAAEC,KAAK;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACvD,MAAMC,WAAW,GAAGT,MAAM,CAAC,CAAC;;EAE5B;EACA,MAAMU,YAAY,GAAGC,KAAK,IAAI;IAC5B,MAAMC,QAAQ,GAAGH,WAAW,CAACI,OAAO;IACpC,MAAMC,KAAK,GAAGF,QAAQ,CAACG,cAAc;IACrC,MAAMC,GAAG,GAAGJ,QAAQ,CAACK,YAAY;IACjC,MAAMC,QAAQ,GACZZ,KAAK,CAACa,SAAS,CAAC,CAAC,EAAEL,KAAK,CAAC,GAAGH,KAAK,GAAGL,KAAK,CAACa,SAAS,CAACH,GAAG,CAAC;IAC1DT,QAAQ,CAACW,QAAQ,CAAC;IAClBE,UAAU,CAAC,MAAM;MACfR,QAAQ,CAACS,KAAK,CAAC,CAAC;MAChBT,QAAQ,CAACG,cAAc,GAAGH,QAAQ,CAACK,YAAY,GAAGH,KAAK,GAAGH,KAAK,CAACW,MAAM;IACxE,CAAC,EAAE,CAAC,CAAC;EACP,CAAC;EAED,oBACElB,OAAA;IAAKmB,SAAS,EAAC,iBAAiB;IAAAC,QAAA,gBAE9BpB,OAAA;MAAKmB,SAAS,EAAC,2GAA2G;MAACE,KAAK,EAAE;QAACC,iBAAiB,EAAE;MAAI;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eACnK1B,OAAA,CAACF,OAAO;MAAC6B,QAAQ,EAAErB;IAAa;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACnC1B,OAAA;MAAKmB,SAAS,EAAC,sCAAsC;MAAAC,QAAA,gBACnDpB,OAAA;QACE4B,GAAG,EAAEvB,WAAY;QACjBc,SAAS,EAAC,gMAAgM;QAC1MjB,KAAK,EAAEA,KAAM;QACb2B,QAAQ,EAAEC,CAAC,IAAI3B,QAAQ,CAAC2B,CAAC,CAACC,MAAM,CAAC7B,KAAK,CAAE;QACxC8B,WAAW,EAAC;MAAoB;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjC,CAAC,eACF1B,OAAA;QAAKmB,SAAS,EAAC,wIAAwI;QAAAC,QAAA,eACrJpB,OAAA,CAACH,SAAS;UAACoC,IAAI,EAAE/B,KAAM;UAACgC,UAAU,EAAC;QAAS;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACtB,EAAA,CApCuBH,WAAW;AAAAkC,EAAA,GAAXlC,WAAW;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}