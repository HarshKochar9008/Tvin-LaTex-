{"ast":null,"code":"var _jsxFileName = \"H:\\\\Asky\\\\frontend\\\\src\\\\components\\\\LatexEditor.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef } from \"react\";\nimport { BlockMath } from \"react-katex\";\nimport \"katex/dist/katex.min.css\";\nimport Toolbar from \"./Toolbar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LatexEditor({\n  value,\n  setValue\n}) {\n  _s();\n  const textareaRef = useRef();\n\n  // Insert LaTeX at cursor\n  const handleInsert = latex => {\n    const textarea = textareaRef.current;\n    const start = textarea.selectionStart;\n    const end = textarea.selectionEnd;\n    const newValue = value.substring(0, start) + latex + value.substring(end);\n    setValue(newValue);\n    setTimeout(() => {\n      textarea.focus();\n      textarea.selectionStart = textarea.selectionEnd = start + latex.length;\n    }, 0);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n      onInsert: handleInsert\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        ref: textareaRef,\n        className: \"border p-2 w-1/2 h-40\",\n        value: value,\n        onChange: e => setValue(e.target.value),\n        placeholder: \"Type LaTeX here...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border p-2 w-1/2 h-40 bg-gray-50 overflow-auto\",\n        children: /*#__PURE__*/_jsxDEV(BlockMath, {\n          math: value,\n          errorColor: \"#cc0000\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n}\n_s(LatexEditor, \"gJtT2aPnbUb4WH8ANBrFCKASbhs=\");\n_c = LatexEditor;\nvar _c;\n$RefreshReg$(_c, \"LatexEditor\");","map":{"version":3,"names":["React","useRef","BlockMath","Toolbar","jsxDEV","_jsxDEV","LatexEditor","value","setValue","_s","textareaRef","handleInsert","latex","textarea","current","start","selectionStart","end","selectionEnd","newValue","substring","setTimeout","focus","length","children","onInsert","fileName","_jsxFileName","lineNumber","columnNumber","className","ref","onChange","e","target","placeholder","math","errorColor","_c","$RefreshReg$"],"sources":["H:/Asky/frontend/src/components/LatexEditor.jsx"],"sourcesContent":["import React, { useRef } from \"react\";\r\nimport { BlockMath } from \"react-katex\";\r\nimport \"katex/dist/katex.min.css\";\r\nimport Toolbar from \"./Toolbar\";\r\n\r\nexport default function LatexEditor({ value, setValue }) {\r\n  const textareaRef = useRef();\r\n\r\n  // Insert LaTeX at cursor\r\n  const handleInsert = latex => {\r\n    const textarea = textareaRef.current;\r\n    const start = textarea.selectionStart;\r\n    const end = textarea.selectionEnd;\r\n    const newValue =\r\n      value.substring(0, start) + latex + value.substring(end);\r\n    setValue(newValue);\r\n    setTimeout(() => {\r\n      textarea.focus();\r\n      textarea.selectionStart = textarea.selectionEnd = start + latex.length;\r\n    }, 0);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Toolbar onInsert={handleInsert} />\r\n      <div className=\"flex gap-4\">\r\n        <textarea\r\n          ref={textareaRef}\r\n          className=\"border p-2 w-1/2 h-40\"\r\n          value={value}\r\n          onChange={e => setValue(e.target.value)}\r\n          placeholder=\"Type LaTeX here...\"\r\n        />\r\n        <div className=\"border p-2 w-1/2 h-40 bg-gray-50 overflow-auto\">\r\n          <BlockMath math={value} errorColor=\"#cc0000\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,QAAQ,OAAO;AACrC,SAASC,SAAS,QAAQ,aAAa;AACvC,OAAO,0BAA0B;AACjC,OAAOC,OAAO,MAAM,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhC,eAAe,SAASC,WAAWA,CAAC;EAAEC,KAAK;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACvD,MAAMC,WAAW,GAAGT,MAAM,CAAC,CAAC;;EAE5B;EACA,MAAMU,YAAY,GAAGC,KAAK,IAAI;IAC5B,MAAMC,QAAQ,GAAGH,WAAW,CAACI,OAAO;IACpC,MAAMC,KAAK,GAAGF,QAAQ,CAACG,cAAc;IACrC,MAAMC,GAAG,GAAGJ,QAAQ,CAACK,YAAY;IACjC,MAAMC,QAAQ,GACZZ,KAAK,CAACa,SAAS,CAAC,CAAC,EAAEL,KAAK,CAAC,GAAGH,KAAK,GAAGL,KAAK,CAACa,SAAS,CAACH,GAAG,CAAC;IAC1DT,QAAQ,CAACW,QAAQ,CAAC;IAClBE,UAAU,CAAC,MAAM;MACfR,QAAQ,CAACS,KAAK,CAAC,CAAC;MAChBT,QAAQ,CAACG,cAAc,GAAGH,QAAQ,CAACK,YAAY,GAAGH,KAAK,GAAGH,KAAK,CAACW,MAAM;IACxE,CAAC,EAAE,CAAC,CAAC;EACP,CAAC;EAED,oBACElB,OAAA;IAAAmB,QAAA,gBACEnB,OAAA,CAACF,OAAO;MAACsB,QAAQ,EAAEd;IAAa;MAAAe,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACnCxB,OAAA;MAAKyB,SAAS,EAAC,YAAY;MAAAN,QAAA,gBACzBnB,OAAA;QACE0B,GAAG,EAAErB,WAAY;QACjBoB,SAAS,EAAC,uBAAuB;QACjCvB,KAAK,EAAEA,KAAM;QACbyB,QAAQ,EAAEC,CAAC,IAAIzB,QAAQ,CAACyB,CAAC,CAACC,MAAM,CAAC3B,KAAK,CAAE;QACxC4B,WAAW,EAAC;MAAoB;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjC,CAAC,eACFxB,OAAA;QAAKyB,SAAS,EAAC,gDAAgD;QAAAN,QAAA,eAC7DnB,OAAA,CAACH,SAAS;UAACkC,IAAI,EAAE7B,KAAM;UAAC8B,UAAU,EAAC;QAAS;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACpB,EAAA,CAlCuBH,WAAW;AAAAgC,EAAA,GAAXhC,WAAW;AAAA,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}